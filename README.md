<!--
 * @Author: fantastic_feifei feifei.sun@jaist.ac.jp
 * @Date: 2025-05-18 02:21:24
 * @LastEditors: fantastic_feifei feifei.sun@jaist.ac.jp
 * @LastEditTime: 2025-05-18 03:05:40
 * @FilePath: \MTS-benchmark\README.md
 * @Description: è¿™æ˜¯é»˜è®¤è®¾ç½®,è¯·è®¾ç½®`customMade`, æ‰“å¼€koroFileHeaderæŸ¥çœ‹é…ç½® è¿›è¡Œè®¾ç½®: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE
-->
# MTS-benchmark
This repository contains the dataset used in our paper:  "Benchmarking Temporal Reasoning: Can Large Language Models Navigate Time When Stories Refuse to Follow a Straight Line?"

Contains 3 datasets files for evaluating large language models (LLMs) on sentence-level temporal reasoning:

- `MT_shuffled.csv`: Mixed-time setting. Some absolute time expressions are rewritten into relative expressions using a GPT-based rewriting strategy.
- `AT_shuffled_cleaned.csv`: Absolute-time setting. Events are ordered by their original timestamps without modification.
- `conversion_table.csv`: Conversion Table. Provides a list of time expression rewrites extracted from the `MT_shuffled.csv` dataset. 
                          - It maps absolute time expressions to their corresponding GPT-generated relative or descriptive alternatives. 
                          - This table can be used as a reference for studying time expression rewriting, paraphrasing, or time grounding in temporal reasoning tasks.
  
Each file contains passages extracted from Wikipedia biographies, with gold-standard sentence order annotations and corresponding model inputs.

## ðŸ“‘ Column Descriptions

Below are the descriptions of each column included in the released `.csv` files (`MT_shuffled.csv` and `AT_shuffled.csv`):

| Column Name                         | Description |
|------------------------------------|-------------|
| `Wikidata ID`                      | The unique identifier of the entity on Wikidata (e.g., Q937). |
| `Name`                             | The full name of the person described in the passage. |
| `Professions`                      | The profession(s) associated with the person, as retrieved from Wikidata. |
| `Wikipedia Title`                  | The title of the Wikipedia page where the biographical text was sourced. |
| `pageContent`                      | The original passage, composed of biographical event sentences extracted from Wikipedia. |
| `clean text`                       | A cleaned version of `pageContent`, with preprocessed formatting and sentence segmentation. |
| `gold answer`                      | The gold chronological order of the sentences (e.g., `0 1 2 3`), used for evaluation. |
| `event_count`                      | The number of event sentences in the passage (e.g., 4 or 10), used for data grouping and analysis. |

### Columns specific to `MT_shuffled.csv`:

| Column Name                         | Description |
|------------------------------------|-------------|
| `Gpt Modified Context`             | The version of the passage in which some absolute time expressions are rewritten into relative expressions using GPT (e.g., â€œin 1945â€ â†’ â€œat the end of World War IIâ€). |
| `Replacement Information`          | Metadata describing which time expressions were replaced and how. Useful for understanding the transformation process. |
| `Shuffled Gpt Modified Context`    | A shuffled version of the modified passage used as the actual model input for temporal ordering tasks. |
| `Shuffle Mapping`                  | A mapping from the shuffled sentence indices to the original order, used to calculate evaluation metrics. |

### Columns specific to `AT_shuffled.csv`:

| Column Name                         | Description |
|------------------------------------|-------------|
| `Shuffled gold answer`             | The `clean text` passage with its sentences randomly shuffled for model input. |
| `Shuffle Mapping gold answer`      | A mapping from the shuffled indices to the original gold order for use in evaluation. |


### Columns in `conversion_table_fully_cleaned.csv`:

| Column Name     | Description |
|------------------|-------------|
| `Original Time`  | The original absolute time expression (e.g., `1945`, `March 2002`, `1990 to 1995`). |
| `Rewritten Time` | The rewritten or paraphrased version generated by GPT (e.g., `the end of World War II`, `over a decade ago`). |


## Rule Design for Absolute-to-Relative Time Conversion

To ensure **reproducibility**, we defined a set of deterministic rewriting rules for converting absolute temporal expressions (e.g., `1970`, `Oct. 2, 2003`) into relative or contextualized forms (e.g., `early 1970s`, `early October 2003`).

The conversion process follows **three main principles**:

### 1. Granularity Preservation
The relative expression maintains the same level of temporal precision as the original  
(e.g., year â†’ decade-level, date â†’ month-level).

**Examples**
```text
1970 â†’ early 1970s  
Oct. 2, 2003 â†’ early October 2003
```

### 2. Approximate and Contextual Rewriting

For historical years, we replaced numeric values with approximate relative phrases based on their distance from the reference year (assumed as 2023).

**Examples**
```text
1976 (â‰ˆ 47 years before 2023) â†’ a little over four decades ago
1993 (â‰ˆ 30 years before 2023) â†’ approximately three decades back
```

### 3. Event-Sequence Grounding

When absolute time appears within a local narrative context, we converted it to relative phrasing anchored to surrounding events (e.g., â€œthe following year,â€ â€œshortly after,â€ â€œsoon afterâ€).

**Examples**
```text
2004 (following a 2003 event) â†’ the following year
Feb. 1, 2004 (after Jan. 28, 2004) â†’ shortly after
```

Each rule type (decade-level, approximate distance, contextual sequence) was implemented using a small Python script that maps numeric years/dates to corresponding phrase templates.

### âš ï¸ Known Limitations

While most rewritten expressions are semantically meaningful and contextually grounded, **not all rewrites are globally valid**:

- âœ… Some expressions (e.g., `1945 â†’ the end of World War II`) are historically anchored and widely interpretable.
- âš ï¸ Others (e.g., `1945 â†’ three years ago`) are context-dependent and only make sense relative to the documentâ€™s internal timeline.

> ðŸ“Œ Please refer to the original passage (`Gpt Modified Context`) in `MT_shuffled.csv` when using these rewrites for downstream tasks such as generation, normalization, or alignment.
